# 一、 产品需求文档 (PRD) - Schedule Builder MVP

| **文档版本** | **V1.0**                                                     |
| ------------ | ------------------------------------------------------------ |
| **项目名称** | Project "Schedule Builder" (暂定名)                          |
| **核心目标** | 构建一个基于 SEO 驱动、极低阻力的在线排班工具，通过长尾词矩阵获取流量，并通过 Freemium 模式验证变现能力。 |
| **目标用户** | 1. 寻找免费工具的学生/个人 (SEO 流量基石)<br />2. 愿意付费的中小企业经理/HR (变现主力) |
| **技术栈**   | **Frontend:** Next.js (React), Tailwind CSS<br />**Hosting:** Vercel<br />**Auth:** Clerk<br />**Payment:** Stripe / Creem<br />**Database:** PostgreSQL / Supabase (用于存储 Pro 用户数据)<br/>**Event Notification:** Webhook<br/>**Local debugging:** Ngrok |

# 二、产品核心策略 (The Strategy)

## 1 核心价值主张

"Zero Friction, Niche Specific."

与竞品 (schedulebuilder.org) 相比，我们不仅要做到“无登录即用”，还要做到“场景化适配”。用户搜索“健身计划”进来，看到的就是健身模板，而不是通用表格。

## 2 SEO 架构策略 (Programmatic SEO)

利用 Next.js 的动态路由 (Dynamic Routes) 构建流量矩阵。

### 2.1 首页 (Home):

针对主词 `schedule builder`。

### 2.2 落地页矩阵 (`/templates/[slug]`):针对`4+`个长尾词。

*技术实现：* 只有一套代码，根据 URL 参数加载不同的预设 JSON 数据（标题、列名、默认任务）

长尾关键词：

- | **关键词 (Keyword)**             | **用户意图分析**   | **落地页差异化建议 (Dev Tip)**            |
  | -------------------------------- | ------------------ | ----------------------------------------- |
  | **1. Employee schedule builder** | 寻找排班软件的经理 | 默认模板设置为“员工姓名+早/中/晚班”格式。 |
  
- | **关键词 (Keyword)**                  | **用户意图分析** | **落地页差异化建议 (Dev Tip)**               |
  | ------------------------------------- | ---------------- | -------------------------------------------- |
  | **2. College class schedule builder** | 大学生规划选课   | 预设周一至周五视图，时间粒度细化到 15 分钟。 |
  
- | **关键词 (Keyword)**            | **用户意图分析** | **落地页差异化建议 (Dev Tip)**                 |
  | ------------------------------- | ---------------- | ---------------------------------------------- |
  | **3. Workout schedule builder** | 健身人群         | 预设“胸肌、背部、有氧”等标签，移动端要极好用。 |
  
- | **关键词 (Keyword)**           | **用户意图分析**      | **落地页差异化建议 (Dev Tip)**                     |
  | ------------------------------ | --------------------- | -------------------------------------------------- |
  | **4. Visual schedule builder** | 需要可视化/图片化     | 强调图标 (Icons) 和颜色编码功能。                  |
  | **5. AI schedule generator**   | **(蓝海)** 追逐新技术 | 哪怕只是简单的规则生成，加上“AI”标签点击率会翻倍。 |

### 2.3 定价页 (`/pricing`):

承接转化，包含高商业价值关键词。

### 2.4 博客页 (`/blog/[slug]`)：

#### 2.4.1 战略定位

在 MVP 阶段，博客不应拖累开发进度，但必须存在。它的作用是：

- **承接信息型流量：** 针对 "How to create a work schedule" 这类搜索意图。
- **内链中枢：** 在文章中自然插入“Use our free tool”的链接，向工具页输送权重。

#### 2.4.2 技术实现方案 (Next.js 专属)

- **架构：** 直接使用 **MDX (Markdown + JSX)** 。
- **路径：** `/blog` (列表页) 和 `/blog/[slug]` (文章页)。
- **内容管理：** 所有文章以 `.md` 或 `.mdx` 文件形式存储在项目的 `posts` 文件夹中。Git 提交代码即发布文章。
- **功能要求：**
  - 支持 H1-H6, 列表, 图片。
  - **关键：** 必须支持在文章中插入 React 组件（例如：在文章中间直接插入一个简化版的“排班工具 Demo”）。

### 2.5 全局语言与本地化规范 (Localization & Language)

#### 2.5.1 默认语言设置

- **Target Locale:** `en-US` (美式英语)。
- **HTML Tag:** 必须设置 `<html lang="en">`，确保浏览器翻译插件和 Google 爬虫正确识别。

#### 2.5.2 格式规范 (硬性要求)

- **日期格式:** 默认使用美式格式 `MM/DD/YYYY` (例如: 12/31/2024)。
- **周起始日:** 美国习惯周日 (Sunday) 为第一天，但在 ISO 标准中是周一。
  - *功能点：* 编辑器需提供一个 Toggle 开关：`"Start week on Sunday"` vs `"Start week on Monday"` (默认设为 Sunday，符合美国习惯)。
- **时间格式:** 默认使用 12小时制 (AM/PM)，提供 24小时制切换选项。
- **拼写检查:** 所有 UI 文案（Color **not** Colour, Center **not** Centre, Schedule **not** Programme）。

# 三、功能需求说明 (Functional Requirements)

## 1 核心编辑器 (The Builder) - 免费版 (MVP 重点)

**优先级：P0 (最高)**

- **交互模式：** 拖拽式 (Drag & Drop) 日历视图。
- **无需登录：** 用户打开网页直接操作，数据存储在浏览器 `localStorage`。
- **视图切换：** 支持“日视图 (Daily)”和“周视图 (Weekly)”。
- **基础编辑：** 添加任务块、修改颜色、修改时间段。
- **导出功能 (Free)：** 导出为 JPG/PNG 图片（**带水印**：水印内容建议直接写域名）。

## 2 场景化模版引擎 (The Template Engine)

**优先级：P0**

- 系统需根据 URL 自动初始化编辑器状态。
  - *Case A:* 访问 `/tools/college-schedule` -> 初始化为：周一至周五，时间 8:00-18:00，预设“Math, History”等课程块。
  - *Case B:* 访问 `/tools/employee-shift` -> 初始化为：人员名单 (Row) x 日期 (Column)，预设“早班、晚班”块。

## 3 会员与支付系统 (The Gate)

**优先级：P1**

- **付费墙触发点 (Triggers):**
  - 点击“导出 PDF (高清/矢量)”。
  - 点击“保存到云端”。
  - 点击“AI 自动生成” (MVP 阶段可做成“假门测试”)。
  - 点击“去除水印”。
- **用户账户：** 支持 Google 一键登录 (Clerk)。
- **支付流程：** 集成 Stripe Checkout，支持月付订阅和终身买断。

## 4 AI 功能 (MVP 阶段策略)

**优先级：P2 (或作为营销噱头)**

- **MVP 方案：** 这里不需要真正接入昂贵的 LLM API。
- **实现：** 做一个基于规则的“Smart Fill”。用户输入“User A, User B”，点击“Auto Fill”，系统随机或按简单逻辑填满表格即可。
- **目的：** 为了 SEO (覆盖 AI 关键词) 和测试用户对“自动化”的付费意愿。

# 四、 用户体验流程图 (User Flow)

为了确保低跳出率，必须严格遵守此流程：

```代码段
graph TD
    A[用户搜索关键词 (例如 'workout schedule builder')] --> B(垂直落地页 /tools/workout)
    B --> C{加载预设模板}
    C --> D[用户直接拖拽编辑 (无登录)]
    D --> E[用户感到满意]
    E --> F{点击导出/保存}
    F -->|选择 JPG (带水印)| G[直接下载 (留存 LocalStorage)]
    F -->|选择 PDF / 云端保存| H[弹出 Pricing Modal]
    H -->|放弃| G
    H -->|支付| I[注册/登录 -> 支付成功]
    I --> J[解锁 Pro 功能 (PDF/Cloud Save)]
```

# 五、页面结构与 SEO 规范 (Site Architecture)

## 1 通用组件要求

- **Header:** Logo, Templates (Dropdown), Pricing, Login.
- **Main Tool Area:** 占据屏幕 80% 空间，确保首屏可见 (Above the fold)。
- **SEO Content Area:** 位于工具下方。
  - 包含 H2/H3 标签。
  - 包含 FAQ 组件 (Schema 标记)。
  - Next.js 需要使用 SSR (Server Side Rendering) 渲染这部分文本，确保 Google 能抓取。

## 2 性能指标 (Core Web Vitals)

鉴于这是工具类网站，性能直接决定排名：

- **LCP (最大内容渲染):** < 1.2 秒
- **FID (首次输入延迟):** < 100 毫秒 (点击编辑器必须瞬间响应)
- **CLS (累积布局偏移):** 0 (工具界面不能乱跳)
- **Mobile:** 必须完美适配手机竖屏操作（或者在手机端提示“建议横屏使用”）。

# 六、 数据埋点与分析 (Analytics)

在 MVP 阶段，我们需要收集以下数据来验证假设：

1. **转化漏斗：** 访客 -> 编辑操作 -> 点击导出 -> 点击付费 -> 支付成功。
2. **模板热度：** 哪一个长尾词落地页的流量最大？停留时间最长？
3. **功能需求：** 统计点击 "AI 生成" 和 "PDF 导出" 的次数，决定后续开发优先级。

# 七、开发分期计划 (Roadmap)

| **阶段**                     | **时间预估** | **目标**                                    | **关键产出**                                             |
| ---------------------------- | ------------ | ------------------------------------------- | -------------------------------------------------------- |
| **Phase 1: 核心构建**        | Week 1-2     | 通用编辑器 + 20个模板 + **英文环境配置**    | 可用的纯前端工具，确认日期/时间格式无误。                |
| **Phase 2: 页面矩阵 & 博客** | Week 3       | 动态路由 + SEO 文本 + **基础 MDX 博客架构** | 20+ 落地页上线，**Blog 栏目上线（预置 3 篇基础文章）**。 |
| **Phase 3: 商业化接入**      | Week 4       | 接入 Clerk 和 Stripe                        | 实现登录、支付、PDF 导出功能。                           |
| **Phase 4: 公测与优化**      | Week 5       | 修复 Bug，优化 Mobile 体验                  | MVP 正式发布。                                           |
